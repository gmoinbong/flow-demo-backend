# –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞ CreatorFlow - MVP

## –§–ª–æ—É –ø—Ä–æ–µ–∫—Ç–∞ (End-to-End)

### –û–±—â–∏–π —Ñ–ª–æ—É —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –§–õ–û–£ –ö–ê–ú–ü–ê–ù–ò–ò (MVP)                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

1. –°–û–ó–î–ê–ù–ò–ï –ö–ê–ú–ü–ê–ù–ò–ò
   Brand ‚Üí Frontend ‚Üí POST /campaigns
   ‚îú‚îÄ ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏ (status: 'draft')
   ‚îú‚îÄ ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î (campaigns)
   ‚îî‚îÄ ‚úÖ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Å–æ–∑–¥–∞–Ω–∏–µ tracking_config

2. –ê–ö–¢–ò–í–ê–¶–ò–Ø –ö–ê–ú–ü–ê–ù–ò–ò
   Brand ‚Üí Frontend ‚Üí POST /campaigns/:id/activate
   ‚îú‚îÄ ‚úÖ –ü–æ–∏—Å–∫ –∫—Ä–µ–∞—Ç–æ—Ä–∞ –≤ –ë–î (FindCreatorForCampaignUseCase)
   ‚îÇ   ‚îú‚îÄ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º
   ‚îÇ   ‚îú‚îÄ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–∞–∑–º–µ—Ä—É –∞—É–¥–∏—Ç–æ—Ä–∏–∏
   ‚îÇ   ‚îî‚îÄ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ª–æ–∫–∞—Ü–∏–∏
   ‚îú‚îÄ ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ allocation (campaign_allocations)
   ‚îú‚îÄ ‚úÖ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞–º–ø–∞–Ω–∏–∏ (status: 'active')
   ‚îî‚îÄ ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ jobs –≤ –æ—á–µ—Ä–µ–¥—å Apify
       ‚îú‚îÄ profile_scrape (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 80)
       ‚îî‚îÄ posts_scrape (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 70)

3. –ü–ï–†–í–ò–ß–ù–´–ô –°–ë–û–† –î–ê–ù–ù–´–• (Apify)
   Apify Worker ‚Üí ApifyJobsQueueService
   ‚îú‚îÄ ‚ùå Worker –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù
   ‚îú‚îÄ ‚ùå –û–±—Ä–∞–±–æ—Ç–∫–∞ job profile_scrape
   ‚îÇ   ‚îî‚îÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ creator_social_profiles (verified –¥–∞–Ω–Ω—ã–µ)
   ‚îî‚îÄ ‚ùå –û–±—Ä–∞–±–æ—Ç–∫–∞ job posts_scrape
       ‚îî‚îÄ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ –≤ posts

4. –î–ï–¢–ï–ö–¢ CAMPAIGN POSTS
   Post Detection Service
   ‚îú‚îÄ ‚ùå SQL —Ñ—É–Ω–∫—Ü–∏—è detect_campaign_post() –ù–ï –°–û–ó–î–ê–ù–ê
   ‚îú‚îÄ ‚ùå –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ö–µ—à—Ç–µ–≥–∞–º/mentions
   ‚îî‚îÄ ‚ùå –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ posts.is_campaign_content

5. –ú–û–ù–ò–¢–û–†–ò–ù–ì –ü–û–°–¢–û–í (–ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π)
   Cron Job (–∫–∞–∂–¥—ã–µ 12 —á–∞—Å–æ–≤)
   ‚îú‚îÄ ‚ùå Cron job –ù–ï –ù–ê–°–¢–†–û–ï–ù
   ‚îú‚îÄ ‚ùå –î–æ–±–∞–≤–ª–µ–Ω–∏–µ jobs –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å—Ç–æ–≤
   ‚îú‚îÄ ‚ùå –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ—Å—Ç–æ–≤
   ‚îî‚îÄ ‚ùå –î–µ—Ç–µ–∫—Ç –Ω–æ–≤—ã—Ö campaign posts

6. –°–ë–û–† –ú–ï–¢–†–ò–ö
   Metrics Collection Service
   ‚îú‚îÄ ‚ùå –ê–≥—Ä–µ–≥–∞—Ü–∏—è –∏–∑ posts (reach, engagement)
   ‚îú‚îÄ ‚ùå –ê–≥—Ä–µ–≥–∞—Ü–∏—è –∏–∑ events_aggregated (conversions, CTR)
   ‚îî‚îÄ ‚ùå –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ campaign_allocations –º–µ—Ç—Ä–∏–∫–∏

7. EVENT TRACKING (UTM)
   User ‚Üí /track/:code ‚Üí Backend
   ‚îú‚îÄ ‚ùå Tracking endpoint –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù
   ‚îú‚îÄ ‚ùå –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ impressions/clicks –≤ events_raw
   ‚îî‚îÄ ‚ùå –ê–≥—Ä–µ–≥–∞—Ü–∏—è –≤ events_aggregated

8. –†–ï–ê–õ–õ–û–ö–ê–¶–ò–Ø –ë–Æ–î–ñ–ï–¢–ê
   Budget Reallocation Service
   ‚îú‚îÄ ‚ùå –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞ performance score
   ‚îú‚îÄ ‚ùå –†–µ–∞–ª–ª–æ–∫–∞—Ü–∏—è (¬±25% —Ç–æ–ø/–Ω–∏–∑ –ø–µ—Ä—Ñ–æ—Ä–º–µ—Ä—ã)
   ‚îî‚îÄ ‚ùå –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ current_budget

9. –í–´–ü–õ–ê–¢–´ (Post-MVP)
   Stripe Connect
   ‚îî‚îÄ ‚ùå –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û
```

### –î–µ—Ç–∞–ª—å–Ω—ã–π —Ñ–ª–æ—É –ø–æ —ç—Ç–∞–ø–∞–º

#### –≠—Ç–∞–ø 1: –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏ ‚úÖ
```
Frontend (Brand) 
  ‚Üí POST /api/campaigns
    ‚Üí CreateCampaignUseCase
      ‚Üí CampaignRepository.save()
        ‚Üí –ë–î: INSERT INTO campaigns (status='draft')
      ‚Üí CampaignTrackingConfigRepository.save() (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
        ‚Üí –ë–î: INSERT INTO campaign_tracking_config
  ‚Üê Response: { id, name, status: 'draft' }
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

#### –≠—Ç–∞–ø 2: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞–º–ø–∞–Ω–∏–∏ ‚úÖ
```
Frontend (Brand)
  ‚Üí POST /api/campaigns/:id/activate
    ‚Üí ActivateCampaignUseCase
      ‚Üí FindCreatorForCampaignUseCase
        ‚Üí SQL: SELECT creator_social_profiles (–ø–æ–∏—Å–∫ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º)
        ‚Üí Return: creatorMatch
      ‚Üí CampaignAllocationRepository.save()
        ‚Üí –ë–î: INSERT INTO campaign_allocations (status='pending')
      ‚Üí CampaignRepository.save()
        ‚Üí –ë–î: UPDATE campaigns SET status='active'
      ‚Üí CollectCreatorDataUseCase
        ‚Üí ApifyJobsQueueService.addJob(profile_scrape)
        ‚Üí ApifyJobsQueueService.addJob(posts_scrape)
          ‚Üí –ë–î: INSERT INTO apify_jobs_queue
  ‚Üê Response: { campaign, allocation, creator }
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (jobs –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å)

---

#### –≠—Ç–∞–ø 3: –ü–µ—Ä–≤–∏—á–Ω—ã–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö (Apify) ‚ùå
```
Apify Worker (–æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å)
  ‚Üí ApifyJobsQueueService.getNextPendingJob()
    ‚Üí –ë–î: SELECT job (priority DESC, FOR UPDATE SKIP LOCKED)
  ‚Üí ApifyJobsQueueService.markJobAsRunning()
    ‚Üí –ë–î: UPDATE apify_jobs_queue SET status='running'
  
  IF job_type = 'profile_scrape':
    ‚Üí ApifyScraperService.scrapeProfile()
      ‚Üí Apify API: Call actor
      ‚Üê Profile data (followers, engagement_rate, bio)
    ‚Üí CollectCreatorDataUseCase.processProfileResult()
      ‚Üí –ë–î: UPDATE creator_social_profiles (verified –¥–∞–Ω–Ω—ã–µ)
  
  IF job_type = 'posts_scrape':
    ‚Üí ApifyScraperService.scrapePosts()
      ‚Üí Apify API: Call actor
      ‚Üê Posts data (–º–∞—Å—Å–∏–≤ –ø–æ—Å—Ç–æ–≤)
    ‚Üí –ë–î: INSERT INTO posts (bulk insert)
  
  ‚Üí ApifyJobsQueueService.markJobAsCompleted()
    ‚Üí –ë–î: UPDATE apify_jobs_queue SET status='completed'
```

**–°—Ç–∞—Ç—É—Å:** ‚ùå Worker –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù (–∫—Ä–∏—Ç–∏—á–Ω–æ)

---

#### –≠—Ç–∞–ø 4: –î–µ—Ç–µ–∫—Ç campaign posts ‚ùå
```
Post Detection Service
  ‚Üí SELECT posts WHERE is_campaign_content IS NULL
  ‚Üí FOR EACH post:
    ‚Üí SELECT detect_campaign_post(post_id, campaign_id)
      ‚Üí SQL —Ñ—É–Ω–∫—Ü–∏—è:
        ‚îú‚îÄ –ß–∏—Ç–∞–µ—Ç campaign_tracking_config
        ‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ö–µ—à—Ç–µ–≥–∏, mentions, tracking links
        ‚îú‚îÄ –í—ã—á–∏—Å–ª—è–µ—Ç confidence score (0-1)
        ‚îî‚îÄ UPDATE posts SET 
             is_campaign_content = true/false,
             campaign_match_confidence = score
```

**–°—Ç–∞—Ç—É—Å:** ‚ùå SQL —Ñ—É–Ω–∫—Ü–∏—è –∏ —Å–µ—Ä–≤–∏—Å –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–´

---

#### –≠—Ç–∞–ø 5: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å—Ç–æ–≤ (–ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π) ‚ùå
```
Cron Job (–∫–∞–∂–¥—ã–µ 12 —á–∞—Å–æ–≤: 00:00 –∏ 12:00)
  ‚Üí SELECT active campaigns + allocations
  ‚Üí FOR EACH allocation:
    ‚Üí ApifyJobsQueueService.addJob(posts_scrape)
      ‚Üí –ë–î: INSERT INTO apify_jobs_queue
      ‚Üí –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: startDate = last_collected_at, limit = 20
  
  ‚Üí Apify Worker –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç jobs (—Å–º. –≠—Ç–∞–ø 3)
  ‚Üí Post Detection Service –¥–µ—Ç–µ–∫—Ç–∏—Ç –Ω–æ–≤—ã–µ –ø–æ—Å—Ç—ã (—Å–º. –≠—Ç–∞–ø 4)
  ‚Üí Metrics Collection Service –æ–±–Ω–æ–≤–ª—è–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ (—Å–º. –≠—Ç–∞–ø 6)
```

**–°—Ç–∞—Ç—É—Å:** ‚ùå Cron job –ù–ï –ù–ê–°–¢–†–û–ï–ù

---

#### –≠—Ç–∞–ø 6: –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ ‚ùå
```
Metrics Collection Service
  ‚Üí SELECT posts WHERE allocation_id = X AND is_campaign_content = true
  ‚Üí –ê–≥—Ä–µ–≥–∞—Ü–∏—è:
    ‚îú‚îÄ reach = SUM(posts.reach)
    ‚îú‚îÄ engagement = SUM(posts.likes + comments + shares)
    ‚îú‚îÄ avg_engagement_rate = AVG(posts.engagement_rate)
    ‚îî‚îÄ posts_count = COUNT(posts)
  
  ‚Üí SELECT events_aggregated WHERE allocation_id = X
  ‚Üí –ê–≥—Ä–µ–≥–∞—Ü–∏—è:
    ‚îú‚îÄ conversions = SUM(conversions_count)
    ‚îî‚îÄ ctr = AVG(ctr)
  
  ‚Üí UPDATE campaign_allocations SET
      reach = ...,
      engagement = ...,
      conversions = ...,
      ctr = ...,
      avg_engagement_rate = ...,
      posts_count = ...,
      last_collected_at = now()
```

**–°—Ç–∞—Ç—É—Å:** ‚ùå –°–µ—Ä–≤–∏—Å –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù

---

#### –≠—Ç–∞–ø 7: Event Tracking (UTM) ‚ùå
```
User –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ tracking link
  ‚Üí GET /track/:code?utm_source=instagram&utm_medium=post
    ‚Üí Tracking Service
      ‚Üí –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å code ‚Üí campaignId, creatorId
      ‚Üí –ë–î: INSERT INTO events_raw
        (campaign_id, creator_id, type='click', source, medium, timestamp)
      ‚Üí –ë–î: UPDATE events_aggregated (–∞–≥—Ä–µ–≥–∞—Ü–∏—è)
      ‚Üí –ë–î: UPDATE campaign_allocations (conversions, ctr)
      ‚Üí Redirect –Ω–∞ —Ü–µ–ª–µ–≤–æ–π URL
```

**–°—Ç–∞—Ç—É—Å:** ‚ùå Tracking endpoint –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù

---

#### –≠—Ç–∞–ø 8: –†–µ–∞–ª–ª–æ–∫–∞—Ü–∏—è –±—é–¥–∂–µ—Ç–∞ ‚ùå
```
Budget Reallocation Service (–∫–∞–∂–¥—ã–π –¥–µ–Ω—å –∏–ª–∏ –ø–æ —Ç—Ä–∏–≥–≥–µ—Ä—É)
  ‚Üí SELECT allocations WHERE campaign_id = X
  ‚Üí FOR EACH allocation:
    ‚Üí Calculate performance score:
      score = (reach * 0.4) + (engagement * 0.3) + (conversions * 0.3)
  
  ‚Üí Sort by score DESC
  ‚Üí Top 30%: current_budget = allocated_budget * 1.25
  ‚Üí Bottom 30%: current_budget = allocated_budget * 0.75
  ‚Üí Normalize to total budget
  
  ‚Üí UPDATE campaign_allocations SET current_budget = ...
  ‚Üí Notify Brand (webhook/email)
```

**–°—Ç–∞—Ç—É—Å:** ‚ùå –°–µ—Ä–≤–∏—Å –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù

---

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–ª–æ—É

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Brand     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ 1. –°–æ–∑–¥–∞–Ω–∏–µ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û
‚îÇ   Campaign      ‚îÇ
‚îÇ  (status: draft)‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ 2. –ê–∫—Ç–∏–≤–∞—Ü–∏—è
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û
‚îÇ Find Creator    ‚îÇ
‚îÇ (–≤ –ë–î)          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û
‚îÇ  Allocation     ‚îÇ
‚îÇ  (created)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ 3. Jobs –≤ –æ—á–µ—Ä–µ–¥—å
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚ùå –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û
‚îÇ  Apify Jobs Queue  ‚îÇ
‚îÇ  (profile_scrape)  ‚îÇ
‚îÇ  (posts_scrape)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚ùå –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û
‚îÇ  Apify Worker    ‚îÇ
‚îÇ  (–æ–±—Ä–∞–±–æ—Ç–∫–∞)     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îú‚îÄ‚Üí –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è ‚úÖ (–º–µ—Ç–æ–¥ –µ—Å—Ç—å)
       ‚îî‚îÄ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ ‚ùå (–Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ)
       
       ‚îÇ 4. –î–µ—Ç–µ–∫—Ç posts
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚ùå –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û
‚îÇ Post Detection  ‚îÇ
‚îÇ (detect_campaign)‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚ùå –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û
‚îÇ Metrics Update  ‚îÇ
‚îÇ (reach, engage) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îú‚îÄ‚Üí 5. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Cron) ‚ùå
       ‚îú‚îÄ‚Üí 6. Event Tracking ‚ùå
       ‚îî‚îÄ‚Üí 7. –†–µ–∞–ª–ª–æ–∫–∞—Ü–∏—è ‚ùå
```

---

## –¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø: **–§–∞–∑–∞ 1 (Core) - 40% –∑–∞–≤–µ—Ä—à–µ–Ω–æ**

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**Backend (NestJS + Clean Architecture):**
```
modules/
‚îú‚îÄ‚îÄ auth/          ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (JWT, OAuth, —Ä–æ–ª–∏)
‚îú‚îÄ‚îÄ creator/       ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω (onboarding, –ø—Ä–æ—Ñ–∏–ª–∏, —Å–æ—Ü. —Å–µ—Ç–∏)
‚îú‚îÄ‚îÄ campaigns/     ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ (—Å–æ–∑–¥–∞–Ω–∏–µ, –∞–∫—Ç–∏–≤–∞—Ü–∏—è, –ø–æ–∏—Å–∫ –∫—Ä–µ–∞—Ç–æ—Ä–æ–≤)
‚îú‚îÄ‚îÄ scraper/       ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω (Apify –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è, —Å–±–æ—Ä –ø–æ—Å—Ç–æ–≤)
‚îî‚îÄ‚îÄ profile/       ‚úÖ –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
```

**Frontend (Next.js 15 + Feature-Sliced Design):**
```
app/
‚îú‚îÄ‚îÄ features/
‚îÇ   ‚îú‚îÄ‚îÄ auth/      ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω
‚îÇ   ‚îú‚îÄ‚îÄ campaigns/  ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ (UI –≥–æ—Ç–æ–≤, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API)
‚îÇ   ‚îú‚îÄ‚îÄ creator/   ‚úÖ –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
‚îÇ   ‚îî‚îÄ‚îÄ creators/  ‚úÖ –°–ø–∏—Å–æ–∫ –∫—Ä–µ–∞—Ç–æ—Ä–æ–≤
‚îî‚îÄ‚îÄ widgets/        ‚úÖ Dashboard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
```

---

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ

### Backend

#### 1. –ú–æ–¥—É–ª—å Campaigns (Core)
- ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–π** (`CreateCampaignUseCase`)
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î (—Å—Ç–∞—Ç—É—Å: `draft`)
  - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ `CampaignTrackingConfig`
  
- ‚úÖ **–ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞–º–ø–∞–Ω–∏–π** (`ActivateCampaignUseCase`)
  - –ü–æ–∏—Å–∫ –∫—Ä–µ–∞—Ç–æ—Ä–∞ –≤ –ë–î –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º
  - –°–æ–∑–¥–∞–Ω–∏–µ `CampaignAllocation`
  - –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞–º–ø–∞–Ω–∏–∏ (status: `active`)
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ jobs –≤ –æ—á–µ—Ä–µ–¥—å Apify

- ‚úÖ **–ü–æ–∏—Å–∫ –∫—Ä–µ–∞—Ç–æ—Ä–æ–≤** (`FindCreatorForCampaignUseCase`)
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–∞–∑–º–µ—Ä—É –∞—É–¥–∏—Ç–æ—Ä–∏–∏ (micro/mid-tier/macro/mega)
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ª–æ–∫–∞—Ü–∏–∏
  - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: verified –¥–∞–Ω–Ω—ã–µ > declared –¥–∞–Ω–Ω—ã–µ

- ‚úÖ **–û—á–µ—Ä–µ–¥—å Apify jobs** (`ApifyJobsQueueService`)
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ jobs (`profile_scrape`, `posts_scrape`)
  - –ú–µ—Ç–æ–¥—ã –¥–ª—è worker: `getNextPendingJob()`, `markJobAsRunning()`, `markJobAsCompleted()`
  - Retry –ª–æ–≥–∏–∫–∞

#### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Apify
- ‚úÖ `ApifyScraperService` —Ä–∞—Å—à–∏—Ä–µ–Ω:
  - `scrapeProfile()` - —Å–±–æ—Ä –ø—Ä–æ—Ñ–∏–ª—è –∫—Ä–µ–∞—Ç–æ—Ä–∞
  - `scrapePosts()` - —Å–±–æ—Ä –ø–æ—Å—Ç–æ–≤ (—É–∂–µ –±—ã–ª–æ)
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Instagram, TikTok, YouTube

#### 3. API Endpoints
- ‚úÖ `POST /campaigns` - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏
- ‚úÖ `GET /campaigns` - —Å–ø–∏—Å–æ–∫ –∫–∞–º–ø–∞–Ω–∏–π –±—Ä–µ–Ω–¥–∞
- ‚úÖ `GET /campaigns/:id` - –¥–µ—Ç–∞–ª–∏ –∫–∞–º–ø–∞–Ω–∏–∏
- ‚úÖ `POST /campaigns/:id/activate` - –∞–∫—Ç–∏–≤–∞—Ü–∏—è + –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫—Ä–µ–∞—Ç–æ—Ä–∞
- ‚úÖ `GET /campaigns/:id/allocations` - —Å–ø–∏—Å–æ–∫ allocations
- ‚úÖ `GET /campaigns/:id/test-creator-search` - debug endpoint

#### 4. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã: `campaigns`, `campaign_allocations`, `campaign_tracking_config`
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ –æ—á–µ—Ä–µ–¥–∏: `apify_jobs_queue`
- ‚úÖ –°–≤—è–∑–∏ —Å `creator_social_profiles`, `profile`, `brands`

### Frontend

#### 1. Campaigns Feature
- ‚úÖ **–°–ø–∏—Å–æ–∫ –∫–∞–º–ø–∞–Ω–∏–π** (`/campaigns`)
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–∞–º–ø–∞–Ω–∏–π –±—Ä–µ–Ω–¥–∞
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∞–∫—Ç–∏–≤–Ω—ã–µ, –±—é–¥–∂–µ—Ç, –∫—Ä–µ–∞—Ç–æ—Ä—ã)
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å React Query

- ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏** (`/campaigns/create`)
  - –ú–Ω–æ–≥–æ—à–∞–≥–æ–≤–∞—è —Ñ–æ—Ä–º–∞ (3 —à–∞–≥–∞)
  - –í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ Zod
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API

- ‚úÖ **–î–µ—Ç–∞–ª–∏ –∫–∞–º–ø–∞–Ω–∏–∏** (`/campaigns/:id`)
  - –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
  - –°–ø–∏—Å–æ–∫ allocations
  - –ú–µ—Ç—Ä–∏–∫–∏ (–±–∞–∑–æ–≤—ã–µ)

- ‚úÖ **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
  - `CampaignsList`, `CampaignsStats`, `CampaignCreationFlow`
  - `CampaignDetail`, `CampaignMetrics`

#### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Backend
- ‚úÖ API –∫–ª–∏–µ–Ω—Ç (`campaign-api.ts`)
  - `fetchCampaigns()`, `fetchCampaignById()`
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Next.js API routes

---

## ‚ö†Ô∏è –ß—Ç–æ —á–∞—Å—Ç–∏—á–Ω–æ —Å–¥–µ–ª–∞–Ω–æ

### Backend

1. **–û–±—Ä–∞–±–æ—Ç–∫–∞ Apify jobs**
   - ‚úÖ –û—á–µ—Ä–µ–¥—å —Å–æ–∑–¥–∞–Ω–∞
   - ‚ùå Worker –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ jobs **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù**
   - ‚ùå –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ `profile_scrape`
   - ‚ùå –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ –≤ –ë–î

2. **–î–µ—Ç–µ–∫—Ç campaign posts**
   - ‚ùå –§—É–Ω–∫—Ü–∏—è `detect_campaign_post()` –≤ –ë–î **–ù–ï –°–û–ó–î–ê–ù–ê**
   - ‚ùå –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ –ø–æ —Ö–µ—à—Ç–µ–≥–∞–º/mentions
   - ‚ùå –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `posts.is_campaign_content`

3. **–°–±–æ—Ä –º–µ—Ç—Ä–∏–∫**
   - ‚ùå –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ allocation (reach, engagement)
   - ‚ùå –ê–≥—Ä–µ–≥–∞—Ü–∏—è –∏–∑ `posts`
   - ‚ùå –ê–≥—Ä–µ–≥–∞—Ü–∏—è –∏–∑ `events_aggregated` (–¥–ª—è conversions, CTR)

4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
   - ‚ùå Cron jobs –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–∫–∞–∂–¥—ã–µ 12 —á–∞—Å–æ–≤)
   - ‚ùå –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –ø–æ—Å—Ç–æ–≤

### Frontend

1. **–ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞–º–ø–∞–Ω–∏–∏**
   - ‚úÖ UI –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –µ—Å—Ç—å
   - ‚ö†Ô∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `POST /campaigns/:id/activate` —á–∞—Å—Ç–∏—á–Ω–∞—è

2. **–ú–µ—Ç—Ä–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞**
   - ‚úÖ –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
   - ‚ùå Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
   - ‚ùå –î–µ—Ç–∞–ª—å–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏

---

## ‚ùå –ß—Ç–æ –Ω–µ —Å–¥–µ–ª–∞–Ω–æ (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è MVP)

### Backend

1. **Apify Worker** (–∫—Ä–∏—Ç–∏—á–Ω–æ)
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ jobs –∏–∑ –æ—á–µ—Ä–µ–¥–∏
   - –í—ã–∑–æ–≤ Apify API
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –ë–î
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `creator_social_profiles` —Å verified –¥–∞–Ω–Ω—ã–º–∏
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ –≤ `posts`

2. **Post Detection Service** (–∫—Ä–∏—Ç–∏—á–Ω–æ)
   - SQL —Ñ—É–Ω–∫—Ü–∏—è `detect_campaign_post()`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ campaign posts
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `posts.is_campaign_content`

3. **Metrics Collection Service** (–∫—Ä–∏—Ç–∏—á–Ω–æ)
   - –ê–≥—Ä–µ–≥–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ –∏–∑ `posts`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `campaign_allocations` (reach, engagement, posts_count)
   - –†–∞—Å—á–µ—Ç `avg_engagement_rate`

4. **Event Tracking** (–∫—Ä–∏—Ç–∏—á–Ω–æ)
   - UTM-based tracking endpoint (`/track/:code`)
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ impressions/clicks –≤ `events_raw`
   - –ê–≥—Ä–µ–≥–∞—Ü–∏—è –≤ `events_aggregated`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ conversions, CTR

5. **Budget Reallocation** (–≤–∞–∂–Ω–æ)
   - –ü—Ä–æ—Å—Ç–∞—è —Ñ–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞ performance score
   - –†–µ–∞–ª–ª–æ–∫–∞—Ü–∏—è –±—é–¥–∂–µ—Ç–∞ (¬±25% —Ç–æ–ø/–Ω–∏–∑ –ø–µ—Ä—Ñ–æ—Ä–º–µ—Ä—ã)
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `current_budget` –≤ allocations

6. **Cron Jobs** (–≤–∞–∂–Ω–æ)
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–∫–∞–∂–¥—ã–µ 12 —á–∞—Å–æ–≤)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ Apify
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫

7. **Payments** (Stripe Connect)
   - Deposit flow –¥–ª—è –±—Ä–µ–Ω–¥–æ–≤
   - Payout flow –¥–ª—è –∫—Ä–µ–∞—Ç–æ—Ä–æ–≤
   - Webhooks –æ–±—Ä–∞–±–æ—Ç–∫–∞

### Frontend

1. **–ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞–º–ø–∞–Ω–∏–∏**
   - –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–Ω–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –∫—Ä–µ–∞—Ç–æ—Ä–∞)
   - –ü–æ–∫–∞–∑ —Å—Ç–∞—Ç—É—Å–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

2. **–ú–µ—Ç—Ä–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**
   - WebSocket –∏–ª–∏ polling –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
   - –ì—Ä–∞—Ñ–∏–∫–∏ –º–µ—Ç—Ä–∏–∫
   - –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

3. **Event Tracking UI**
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è tracking links
   - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–±—ã—Ç–∏–π (impressions, clicks)

---

## üìä –û—Ü–µ–Ω–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

| –ú–æ–¥—É–ª—å | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–≥—Ä–µ—Å—Å |
|--------|--------|----------|
| **–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–π** | ‚úÖ –ì–æ—Ç–æ–≤–æ | 100% |
| **–ü–æ–∏—Å–∫ –∫—Ä–µ–∞—Ç–æ—Ä–æ–≤** | ‚úÖ –ì–æ—Ç–æ–≤–æ | 100% |
| **–ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞–º–ø–∞–Ω–∏–π** | ‚úÖ –ì–æ—Ç–æ–≤–æ | 100% |
| **Apify –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | 60% |
| **Apify Worker** | ‚ùå –ù–µ –Ω–∞—á–∞—Ç–æ | 0% |
| **Post Detection** | ‚ùå –ù–µ –Ω–∞—á–∞—Ç–æ | 0% |
| **Metrics Collection** | ‚ùå –ù–µ –Ω–∞—á–∞—Ç–æ | 0% |
| **Event Tracking** | ‚ùå –ù–µ –Ω–∞—á–∞—Ç–æ | 0% |
| **Budget Reallocation** | ‚ùå –ù–µ –Ω–∞—á–∞—Ç–æ | 0% |
| **Cron Jobs** | ‚ùå –ù–µ –Ω–∞—á–∞—Ç–æ | 0% |
| **Payments** | ‚ùå –ù–µ –Ω–∞—á–∞—Ç–æ | 0% |
| **Frontend Integration** | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | 70% |

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å MVP: ~40%**

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

### –§–∞–∑–∞ 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ - 1-2 –Ω–µ–¥–µ–ª–∏)

1. **Apify Worker** (40-50 —á–∞—Å–æ–≤)
   - –°–æ–∑–¥–∞—Ç—å worker –ø—Ä–æ—Ü–µ—Å—Å/—Å–µ—Ä–≤–∏—Å
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ jobs –∏–∑ –æ—á–µ—Ä–µ–¥–∏
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Apify API
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

2. **Post Detection** (20-30 —á–∞—Å–æ–≤)
   - SQL —Ñ—É–Ω–∫—Ü–∏—è `detect_campaign_post()`
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ worker
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

3. **Metrics Collection** (20-30 —á–∞—Å–æ–≤)
   - Use Case –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –º–µ—Ç—Ä–∏–∫
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ allocations
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ worker

### –§–∞–∑–∞ 2 (–í–∞–∂–Ω–æ - 2-3 –Ω–µ–¥–µ–ª–∏)

4. **Event Tracking** (30-40 —á–∞—Å–æ–≤)
   - Tracking endpoint
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
   - –ê–≥—Ä–µ–≥–∞—Ü–∏—è

5. **Budget Reallocation** (20-30 —á–∞—Å–æ–≤)
   - –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞
   - Use Case –¥–ª—è —Ä–µ–∞–ª–ª–æ–∫–∞—Ü–∏–∏
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ cron

6. **Cron Jobs** (8-12 —á–∞—Å–æ–≤)
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ scheduler
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –§–∞–∑–∞ 3 (Post-MVP)

7. **Payments** (40-50 —á–∞—Å–æ–≤)
8. **UI —É–ª—É—á—à–µ–Ω–∏—è**
9. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥

1. **Frontend**: –£–±—Ä–∞—Ç—å `localStorage` –¥–ª—è campaigns (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ API)
2. **Backend**: –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ Apify (rate limits, –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏)
3. **Database**: –°–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. **Testing**: –î–æ–±–∞–≤–∏—Ç—å unit –∏ integration —Ç–µ—Å—Ç—ã

---

## üìù –ó–∞–º–µ—á–∞–Ω–∏—è

- **Apify Worker** - —Å–∞–º—ã–π –∫—Ä–∏—Ç–∏—á–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –±–µ–∑ –Ω–µ–≥–æ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **Event Tracking** - –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è real-time –º–µ—Ç—Ä–∏–∫ –∏ —Ä–µ–∞–ª–ª–æ–∫–∞—Ü–∏–∏
- **Post Detection** - –Ω—É–∂–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è campaign posts
- **Metrics Collection** - –Ω—É–∂–µ–Ω –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫ allocation

**–¢–µ–∫—É—â–∏–π —Ñ–æ–∫—É—Å**: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Apify Worker –∏ Post Detection –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –±–∞–∑–æ–≤–æ–≥–æ —Ñ–ª–æ—É.

